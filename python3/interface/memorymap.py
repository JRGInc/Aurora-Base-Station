# Define module memory map versions
MMAP = [
    [],  # v0
    [],  # v1
    [],  # v2
    []   # v3
]


# - Field Abbreviation is predefined to correlate both
#   base unit Python code and module C code.
# - The list contains two values, the start byte and the length.

# TODO: Reprogram modules with correct memory map version and remove obsolete versions, reindex as necessary
# Module memory map version 0 definitions
# - Obsolete after JanusESS v0.8.2
MMAP[0] = {
    'M_ADDR': [0, 1],
    'M_CFG': [1, 1],
    'M_MAP': [2, 1],
    'M_HWTYPE': [3, 1],
    'M_HWVER': [4, 1],
    'M_MFR': [5, 1],
    'M_EVT': [6, 1],
    'L_VER': [7, 1],
    'M_UID': [10, 16],
    'M_CFG_ALL': [0, 26],
    'S0_UID': [33, 2],
    'S1_UID': [35, 2],
    'S2_UID': [37, 2],
    'S3_UID': [39, 2],
    'S4_UID': [41, 2],
    'S_ALL_EN': [43, 1],
    'S0_EN': [44, 1],
    'S1_EN': [45, 1],
    'S2_EN': [46, 1],
    'S3_EN': [47, 1],
    'S4_EN': [48, 1],
    'LED_ALL_EN': [65, 1],
    'LED0R_EN': [66, 1],
    'LED0G_EN': [67, 1],
    'LED0B_EN': [68, 1],
    'LED1R_EN': [69, 1],
    'LED1G_EN': [70, 1],
    'LED1B_EN': [71, 1],
    'LED0R_VAL': [75, 1],
    'LED0G_VAL': [76, 1],
    'LED0B_VAL': [77, 1],
    'LED1R_VAL': [78, 1],
    'LED1G_VAL': [79, 1],
    'LED1B_VAL': [80, 1],
    'S0_VAL': [96, 4],
    'S0_LEXT': [101, 4],
    'S0_HEXT': [106, 4],
    'S0_LTRIG': [111, 4],
    'S0_HTRIG': [116, 4],
    'S1_VAL': [128, 4],
    'S1_LEXT': [133, 4],
    'S1_HEXT': [138, 4],
    'S1_LTRIG': [143, 4],
    'S1_HTRIG': [148, 4],
    'S2_VAL': [160, 4],
    'S2_LEXT': [165, 4],
    'S2_HEXT': [170, 4],
    'S2_LTRIG': [175, 4],
    'S2_HTRIG': [180, 4],
    'S3_VAL': [192, 4],
    'S3_LEXT': [197, 4],
    'S3_HEXT': [202, 4],
    'S3_LTRIG': [207, 4],
    'S3_HTRIG': [212, 4],
    'S4_VAL': [224, 4],
    'S4_LEXT': [229, 4],
    'S4_HEXT': [234, 4],
    'S4_LTRIG': [239, 4],
    'S4_HTRIG': [244, 4]
}

# Module memory map version 1 definitions
# MMAP[1] = {
#     'M_ADDR': [0, 1],
#     'M_CFG': [1, 1],
#     'M_MAP': [2, 1],
#     'M_HWTYPE': [3, 1],
#     'M_HWVER': [4, 1],
#     'M_MFR': [5, 1],
#     'M_EVT': [6, 1],
#     'L_VER': [7, 1],
#     'M_UID': [10, 32],
#     'M_CFG_ALL': [0, 42],
#     'LED_CTL': [48, 1],
#     'LED0_EFF': [49, 1],
#     'LED1_EFF': [50, 1],
#     'S0_VAL': [64, 4],
#     'S1_VAL': [68, 4],
#     'S2_VAL': [72, 4],
#     'S3_VAL': [76, 4],
#     'S4_VAL': [80, 4],
#     'S_ALL_VAL': [64, 20],
#     'S0_LTRIG': [96, 4],
#     'S0_HTRIG': [100, 4],
#     'S1_LTRIG': [104, 4],
#     'S1_HTRIG': [108, 4],
#     'S2_LTRIG': [112, 4],
#     'S2_HTRIG': [116, 4],
#     'S3_LTRIG': [120, 4],
#     'S3_HTRIG': [124, 4],
#     'S4_LTRIG': [128, 4],
#     'S4_HTRIG': [132, 4]
# }

MMAP[1] = {
    'M_ADDR': [0, 1],
    'M_CFG': [1, 1],
    'M_MAP': [2, 1],
    'M_HWTYPE': [3, 1],
    'M_HWVER': [4, 1],
    'M_MFR': [5, 1],
    'M_EVT': [6, 1],
    'L_VER': [7, 1],
    'M_UID': [10, 32],
    'M_CFG_ALL': [0, 42],
    'LED_CTL': [48, 1],
    'LED_PR': [49, 1],
    'LED_PG': [50, 1],
    'LED_PB': [51, 1],
    'LED_SR': [52, 1],
    'LED_SG': [53, 1],
    'LED_SB': [54, 1],
    'LED_DUR': [55, 1],
    'LED_PER': [56, 1],
    'LED_DTY': [57, 1],
    'LED_ALL': [48, 10],
    'S0_VAL': [64, 4],
    'S1_VAL': [68, 4],
    'S2_VAL': [72, 4],
    'S3_VAL': [76, 4],
    'S4_VAL': [80, 4],
    'S_ALL_VAL': [64, 20],
    'S0_LTRIG': [96, 4],
    'S0_HTRIG': [100, 4],
    'S1_LTRIG': [104, 4],
    'S1_HTRIG': [108, 4],
    'S2_LTRIG': [112, 4],
    'S2_HTRIG': [116, 4],
    'S3_LTRIG': [120, 4],
    'S3_HTRIG': [124, 4],
    'S4_LTRIG': [128, 4],
    'S4_HTRIG': [132, 4]
}

# Module memory map version 2 definitions
MMAP[2] = {
    'M_ADDR': [0, 1],
    'M_CFG': [1, 1],
    'M_MAP': [2, 1],
    'M_HWTYPE': [3, 1],
    'M_HWVER': [4, 1],
    'M_MFR': [5, 1],
    'M_EVT': [6, 1],
    'L_VER': [7, 1],
    'M_UID': [10, 32],
    'M_CFG_ALL': [0, 42],
    'LED_CTL': [44, 1],
    'LED0_EFF': [45, 1],
    'LED1_EFF': [46, 1],
    'S0_VAL': [50, 4],
    'S1_VAL': [54, 4],
    'S2_VAL': [58, 4],
    'S3_VAL': [62, 4],
    'S4_VAL': [66, 4],
    'S5_VAL': [70, 4],
    'S6_VAL': [74, 4],
    'S7_VAL': [78, 4],
    'S8_VAL': [82, 4],
    'S9_VAL': [86, 4],
    'S10_VAL': [90, 4],
    'S11_VAL': [94, 4],
    'S12_VAL': [98, 4],
    'S13_VAL': [102, 4],
    'S14_VAL': [106, 4],
    'S15_VAL': [110, 4],
    'S16_VAL': [114, 4],
    'S_ALL_VAL': [50, 68],
    'S0_LTRIG': [118, 4],
    'S0_HTRIG': [122, 4],
    'S1_LTRIG': [126, 4],
    'S1_HTRIG': [130, 4],
    'S2_LTRIG': [134, 4],
    'S2_HTRIG': [138, 4],
    'S3_LTRIG': [142, 4],
    'S3_HTRIG': [146, 4],
    'S4_LTRIG': [150, 4],
    'S4_HTRIG': [154, 4],
    'S5_LTRIG': [158, 4],
    'S5_HTRIG': [162, 4],
    'S6_LTRIG': [166, 4],
    'S6_HTRIG': [170, 4],
    'S7_LTRIG': [174, 4],
    'S7_HTRIG': [178, 4],
    'S8_LTRIG': [182, 4],
    'S8_HTRIG': [186, 4],
    'S9_LTRIG': [190, 4],
    'S9_HTRIG': [194, 4],
    'S10_LTRIG': [198, 4],
    'S10_HTRIG': [202, 4],
    'S11_LTRIG': [206, 4],
    'S11_HTRIG': [210, 4],
    'S12_LTRIG': [214, 4],
    'S12_HTRIG': [218, 4],
    'S13_LTRIG': [222, 4],
    'S13_HTRIG': [226, 4],
    'S14_LTRIG': [230, 4],
    'S14_HTRIG': [234, 4],
    'S15_LTRIG': [238, 4],
    'S15_HTRIG': [242, 4],
    'S16_LTRIG': [246, 4],
    'S16_HTRIG': [250, 4]
}

# Module memory map version 3 definitions
MMAP[3] = {
    'M_ADDR': [0, 1],
    'M_CFG': [1, 1],
    'M_MAP': [2, 1],
    'M_HWTYPE': [3, 1],
    'M_HWVER': [4, 1],
    'M_MFR': [5, 1],
    'M_EVT': [6, 1],
    'L_VER': [7, 1],
    'M_UID': [10, 32],
    'M_CFG_ALL': [0, 42],
    'LED_CTL': [48, 1],
    'LED_PR': [49, 1],
    'LED_PG': [50, 1],
    'LED_PB': [51, 1],
    'LED_SR': [52, 1],
    'LED_SG': [53, 1],
    'LED_SB': [54, 1],
    'LED_DUR': [55, 1],
    'LED_PER': [56, 1],
    'LED_DTY': [57, 1],
    'LED_ALL': [48, 10],
    'S0_VAL': [64, 4],
    'S1_VAL': [68, 4],
    'S2_VAL': [72, 4],
    'S3_VAL': [76, 4],
    'S4_VAL': [80, 4],
    'S5_VAL': [84, 4],
    'S6_VAL': [88, 4],
    'S7_VAL': [92, 4],
    'S8_VAL': [96, 4],
    'S9_VAL': [100, 4],
    'S_ALL_VAL': [64, 40],
    'S0_LTRIG': [104, 4],
    'S0_HTRIG': [108, 4],
    'S1_LTRIG': [112, 4],
    'S1_HTRIG': [116, 4],
    'S2_LTRIG': [120, 4],
    'S2_HTRIG': [124, 4],
    'S3_LTRIG': [128, 4],
    'S3_HTRIG': [132, 4],
    'S4_LTRIG': [136, 4],
    'S4_HTRIG': [140, 4],
    'S5_LTRIG': [144, 4],
    'S5_HTRIG': [148, 4],
    'S6_LTRIG': [152, 4],
    'S6_HTRIG': [156, 4],
    'S7_LTRIG': [160, 4],
    'S7_HTRIG': [164, 4],
    'S8_LTRIG': [168, 4],
    'S8_HTRIG': [172, 4],
    'S9_LTRIG': [176, 4],
    'S9_HTRIG': [180, 4]
}
